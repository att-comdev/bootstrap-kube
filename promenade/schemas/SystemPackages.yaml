---
schema: deckhand/DataSchema/v1
metadata:
  schema: metadata/Control/v1
  name: promenade/SystemPackages/v1
  labels:
    application: promenade
data:
  $schema: http://json-schema.org/schema#
  definitions:
    package:
      type: string
      # XXX add regex

  type: object
  properties:
    additional:
      type: array
      items:
        $ref: '#/definitions/package'

    required:
      type: object
      properties:
        docker:
          $ref: '#/definitions/package'
        dnsmasq:
          $ref: '#/definitions/package'
        socat:
          $ref: '#/definitions/package'
      required:
        - docker
        - dnsmasq
        - socat
      additionalProperties: false

  required:
    - required
  additionalProperties: false
...
